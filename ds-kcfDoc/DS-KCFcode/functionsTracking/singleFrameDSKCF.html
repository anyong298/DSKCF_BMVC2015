<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of singleFrameDSKCF</title>
  <meta name="keywords" content="singleFrameDSKCF">
  <meta name="description" content="SINGLEFRAMEDSKCF.m is the core function of DS-KCF tracker">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html DS-KCFcode --><!-- menu.html functionsTracking -->
<h1>singleFrameDSKCF
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>SINGLEFRAMEDSKCF.m is the core function of DS-KCF tracker</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function [pos,trackerDSKCF_struct,trackerDSKCF_structOccluder,scaleDSKCF_struct,DSKCFparameters_Occluder]=singleFrameDSKCF(firstFrame,pos,frameCurr,trackerDSKCF_struct,DSKCFparameters,scaleDSKCF_struct,trackerDSKCF_structOccluder,DSKCFparameters_Occluder) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> SINGLEFRAMEDSKCF.m is the core function of DS-KCF tracker


   SINGLEFRAMEDSKCF is the core function of DS-KCF tracker (for more
   details see [1]). It applies the DS-KCF tracker to a single frame of
   the sequence. This function is based on several data structures where
   input and output data is stored.Please note that data structures are
   supposed to be initialized as in wrapperDSKCF and runDSKCF.m test
   script.

   INPUT:
   - firstFrame   boolean flag that marks the first frame of the
   sequence
   - frameCurr    first frame data structure (see WRAPPERDSKCF)
   - trackerDSKCF_struct  DS-KCF tracker data structure (see WRAPPERDSKCF,
   INITDSKCFTRACKER)
   - DSKCFparameters, DSKCFparameters_Occluder    parameters structures
   (see WRAPPERDSKCF)
   - scaleDSKCF_struct    first frame data structure (see
   wrapperDSKCF,INITDSKCFPARAM)
   -trackerDSKCF_structOccluder DS-KCF tracker data structure for the
   occluder
   -pos previous position of the DS-KCF tracker pos=[y x] where x is the
   column and y is the row index


   OUTPUT
   -pos updated position of the DS-KCF tracker pos=[y x] where x is the
   column and y is the row index
   -trackerDSKCF_struct,trackerDSKCF_structOccluder updated data
   structures for the trackers
   -scaleDSKCF_struct updated scale data structure
   -DSKCFparameters_Occluder updated parameter structure for the occluder

  See also wrapperDSKCF, CHECKOCCLUSIONSDSKCF_NOISEMODEL,
  CHECKOCCLUSIONSDSKCF_SECONDPLANE, ENLARGEBB, OCCLUDINGOBJECTSEGDSKCF,
  TARGETSEARCHDSKCF, GETSCALEFACTORSTRUCT, <a href="fromBBtoCentralPoint.html" class="code" title="function [centerX,centerY,width,height]=fromBBtoCentralPoint(bb)">FROMBBTOCENTRALPOINT</a>,
  <a href="fromCentralPointToBB.html" class="code" title="function bb=fromCentralPointToBB(centerX,centerY,width,height,maxX,maxY)">FROMCENTRALPOINTTOBB</a>, <a href="gaussian_shaped_labels.html" class="code" title="function labels = gaussian_shaped_labels(sigma, sz)">GAUSSIAN_SHAPED_LABELS</a>, <a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">GET_SUBWINDOW</a>,
  <a href="maxResponseDepthWeightDSKCF.html" class="code" title="function [ response, maxResponse, maxPositionImagePlane] = maxResponseDepthWeightDSKCF( patch,patch_depth,depth16Bit, features,kernel,pos,cell_size, cos_window,model_xf,model_alphaf,model_xDf,model_alphaDf,meanDepthObj,stdDepthObj)">MAXRESPONSEDEPTHWEIGHTDSKCF</a>, <a href="modelUpdateDSKCF.html" class="code" title="function [model_alphaf, model_alphaDf, model_xf, model_xDf]=modelUpdateDSKCF(firstFrame,patch,patch_depth,features,cell_size,cos_window,kernel,yf,lambda,model_alphaf, model_alphaDf, model_xf, model_xDf,scaleUpdate,interp_factor)">MODELUPDATEDSKCF</a>, <a href="resetDSKCFtrackerInfo.html" class="code" title="function trackerDSKCF_struct=resetDSKCFtrackerInfo(trackerDSKCF_struct)">RESETDSKCFTRACKERINFO</a>,
  <a href="roiFromBB.html" class="code" title="function imgOUT=roiFromBB(imgIN,bbIn)">ROIFROMBB</a>,<a href="singleFrameDSKCF_occluder.html" class="code" title="function [trackerDSKCF_structOccluder,newPos]=singleFrameDSKCF_occluder(firstFrame,im,depth,trackerDSKCF_structOccluder,DSKCFparameters)">SINGLEFRAMEDSKCF_OCCLUDER</a>


  [1] M. Camplani, S. Hannuna, D. Damen, M. Mirmehdi, A. Paiment, L. Tao,
   T. burghard. Robust Real-time RGB-D Tracking with Depth Scaling
   Kernelised Correlation Filters and Occlusion Handling, BMVC 2015


  University of Bristol
  Massimo Camplani and Sion Hannuna

  massimo.camplani@bristol.ac.uk
  hannuna@compsci.bristol.ac.uk</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../DS-KCFcode/functionsDepthSeg/fastDepthSegmentationDSKCF_noiseModel.html" class="code" title="function [L,Cnew,LUT,H,I,LUTCC]=fastDepthSegmentationDSKCF_noiseModel(im,c,nanMatrix,minimumError,Cinit, findPeak,targetDepth,targetSTD,noiseModelVector)">fastDepthSegmentationDSKCF_noiseModel</a>	FASTDEPTHSEGMENTATIONDSKCF_NOISEMODEL.m segments depth data</li><li><a href="../../DS-KCFcode/functionsOcclusions/checkOcclusionsDSKCF_noiseModel.html" class="code" title="function [p, depthCurr,stdNew,depthEstimated,stEstimated,minIndexReduced,LabelReg,Centers,regionIndex,LUTCC]= checkOcclusionsDSKCF_noiseModel(depthMapCurr,noDataCurrent,trackerDSKCF_struct, bb)">checkOcclusionsDSKCF_noiseModel</a>	CHECKOCCLUSIONSDSKCF_NOISEMODEL function for detecting occlusions</li><li><a href="../../DS-KCFcode/functionsOcclusions/checkOcclusionsDSKCF_secondPlane.html" class="code" title="function [p, depthCurr,stdNew,LabelReg,Centers,regionIndex,LUTCCsecondPlaneDepth,secondPlaneDepthStd] = checkOcclusionsDSKCF_secondPlane(depthMapCurr,noDataCurrent,trackerDSKCF_struct, bb)">checkOcclusionsDSKCF_secondPlane</a>	CHECKOCCLUSIONSDSKCF_SECONDPLANE function to detect target candidate in</li><li><a href="../../DS-KCFcode/functionsOcclusions/enlargeBB.html" class="code" title="function bb = enlargeBB(smallBB,a,size)">enlargeBB</a>	ENLARGEBB.m enlarges the size of a bounding box</li><li><a href="../../DS-KCFcode/functionsOcclusions/occludingObjectSegDSKCF.html" class="code" title="function [occBB] = occludingObjectSegDSKCF(depthIm,trackerDSKCF_struct)">occludingObjectSegDSKCF</a>	OCCLUDINGOBJECTSEGDSKCF function for segmenting the occluding object</li><li><a href="../../DS-KCFcode/functionsOcclusions/targetSearchDSKCF.html" class="code" title="function [tarBB, occBB, tarlist, id,occmask] = targetSearchDSKCF(bb,trackerDSKCF_struct, DSKCFparameters,im,depth,depth16Bit,scaleDSKCF_struct,confValue)">targetSearchDSKCF</a>	TARGETSEARCHDSKCF function for segmenting the occluding object</li><li><a href="../../DS-KCFcode/functionsScaleChange/getScaleFactorStruct.html" class="code" title="function scaleDSKCF_struct=getScaleFactorStruct(estimatedDepthMode,scaleDSKCF_struct)">getScaleFactorStruct</a>	GETSCALEFACTORSTRUCT.m select the target's scale</li><li><a href="fromBBtoCentralPoint.html" class="code" title="function [centerX,centerY,width,height]=fromBBtoCentralPoint(bb)">fromBBtoCentralPoint</a>	FROMBBTOCENTRALPOINT.m is a function for calculating target centroid and size</li><li><a href="fromCentralPointToBB.html" class="code" title="function bb=fromCentralPointToBB(centerX,centerY,width,height,maxX,maxY)">fromCentralPointToBB</a>	FROMCENTRALPOINTTOBB.m is a function for calculating target bounding box</li><li><a href="gaussian_shaped_labels.html" class="code" title="function labels = gaussian_shaped_labels(sigma, sz)">gaussian_shaped_labels</a>	GAUSSIAN_SHAPED_LABELS</li><li><a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">get_subwindow</a>	GET_SUBWINDOW</li><li><a href="maxResponseDepthWeightDSKCF.html" class="code" title="function [ response, maxResponse, maxPositionImagePlane] = maxResponseDepthWeightDSKCF( patch,patch_depth,depth16Bit, features,kernel,pos,cell_size, cos_window,model_xf,model_alphaf,model_xDf,model_alphaDf,meanDepthObj,stdDepthObj)">maxResponseDepthWeightDSKCF</a>	MAXRESPONSEDEPTHWEIGHTDSKCF function for calculating the DSKCF response %</li><li><a href="modelUpdateDSKCF.html" class="code" title="function [model_alphaf, model_alphaDf, model_xf, model_xDf]=modelUpdateDSKCF(firstFrame,patch,patch_depth,features,cell_size,cos_window,kernel,yf,lambda,model_alphaf, model_alphaDf, model_xf, model_xDf,scaleUpdate,interp_factor)">modelUpdateDSKCF</a>	MODELUPDATEDSKCF function for updating the DSKCF model %</li><li><a href="resetDSKCFtrackerInfo.html" class="code" title="function trackerDSKCF_struct=resetDSKCFtrackerInfo(trackerDSKCF_struct)">resetDSKCFtrackerInfo</a>	RESETDSKCFTRACKERINFO.m re-initializes the data structure for DS-KCF tracker before processing a new frame[1]</li><li><a href="roiFromBB.html" class="code" title="function imgOUT=roiFromBB(imgIN,bbIn)">roiFromBB</a>	ROIFROMBB.m is a function for extracting roi from images given a bounding box</li><li><a href="singleFrameDSKCF_occluder.html" class="code" title="function [trackerDSKCF_structOccluder,newPos]=singleFrameDSKCF_occluder(firstFrame,im,depth,trackerDSKCF_structOccluder,DSKCFparameters)">singleFrameDSKCF_occluder</a>	SINGLEFRAMEDSKCF_OCCLUDER.m functions for tracking occluding object</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../DS-KCFcode/wrapperDSKCF.html" class="code" title="function [dsKCFoutputSr,dsKCFoutputSq, avTime,totalTime] =wrapperDSKCF(video_path, depth_path, img_files, depth_files, pos, target_sz,DSKCFparameters, show_visualization,save_Images,dest_path,noBitShift)">wrapperDSKCF</a>	WRAPPERDSKCF.m is the wrapper function for the DS-KCF tracker [1]</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [pos,trackerDSKCF_struct,trackerDSKCF_structOccluder,scaleDSKCF_struct,</a><span class="keyword">...</span>
0002     DSKCFparameters_Occluder]=singleFrameDSKCF(firstFrame,pos,frameCurr,<span class="keyword">...</span>
0003     trackerDSKCF_struct,DSKCFparameters,scaleDSKCF_struct,<span class="keyword">...</span>
0004     trackerDSKCF_structOccluder,DSKCFparameters_Occluder)
0005 <span class="comment">% SINGLEFRAMEDSKCF.m is the core function of DS-KCF tracker</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%   SINGLEFRAMEDSKCF is the core function of DS-KCF tracker (for more</span>
0009 <span class="comment">%   details see [1]). It applies the DS-KCF tracker to a single frame of</span>
0010 <span class="comment">%   the sequence. This function is based on several data structures where</span>
0011 <span class="comment">%   input and output data is stored.Please note that data structures are</span>
0012 <span class="comment">%   supposed to be initialized as in wrapperDSKCF and runDSKCF.m test</span>
0013 <span class="comment">%   script.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%   INPUT:</span>
0016 <span class="comment">%   - firstFrame   boolean flag that marks the first frame of the</span>
0017 <span class="comment">%   sequence</span>
0018 <span class="comment">%   - frameCurr    first frame data structure (see WRAPPERDSKCF)</span>
0019 <span class="comment">%   - trackerDSKCF_struct  DS-KCF tracker data structure (see WRAPPERDSKCF,</span>
0020 <span class="comment">%   INITDSKCFTRACKER)</span>
0021 <span class="comment">%   - DSKCFparameters, DSKCFparameters_Occluder    parameters structures</span>
0022 <span class="comment">%   (see WRAPPERDSKCF)</span>
0023 <span class="comment">%   - scaleDSKCF_struct    first frame data structure (see</span>
0024 <span class="comment">%   wrapperDSKCF,INITDSKCFPARAM)</span>
0025 <span class="comment">%   -trackerDSKCF_structOccluder DS-KCF tracker data structure for the</span>
0026 <span class="comment">%   occluder</span>
0027 <span class="comment">%   -pos previous position of the DS-KCF tracker pos=[y x] where x is the</span>
0028 <span class="comment">%   column and y is the row index</span>
0029 <span class="comment">%</span>
0030 <span class="comment">%</span>
0031 <span class="comment">%   OUTPUT</span>
0032 <span class="comment">%   -pos updated position of the DS-KCF tracker pos=[y x] where x is the</span>
0033 <span class="comment">%   column and y is the row index</span>
0034 <span class="comment">%   -trackerDSKCF_struct,trackerDSKCF_structOccluder updated data</span>
0035 <span class="comment">%   structures for the trackers</span>
0036 <span class="comment">%   -scaleDSKCF_struct updated scale data structure</span>
0037 <span class="comment">%   -DSKCFparameters_Occluder updated parameter structure for the occluder</span>
0038 <span class="comment">%</span>
0039 <span class="comment">%  See also wrapperDSKCF, CHECKOCCLUSIONSDSKCF_NOISEMODEL,</span>
0040 <span class="comment">%  CHECKOCCLUSIONSDSKCF_SECONDPLANE, ENLARGEBB, OCCLUDINGOBJECTSEGDSKCF,</span>
0041 <span class="comment">%  TARGETSEARCHDSKCF, GETSCALEFACTORSTRUCT, FROMBBTOCENTRALPOINT,</span>
0042 <span class="comment">%  FROMCENTRALPOINTTOBB, GAUSSIAN_SHAPED_LABELS, GET_SUBWINDOW,</span>
0043 <span class="comment">%  MAXRESPONSEDEPTHWEIGHTDSKCF, MODELUPDATEDSKCF, RESETDSKCFTRACKERINFO,</span>
0044 <span class="comment">%  ROIFROMBB,SINGLEFRAMEDSKCF_OCCLUDER</span>
0045 <span class="comment">%</span>
0046 <span class="comment">%</span>
0047 <span class="comment">%  [1] M. Camplani, S. Hannuna, D. Damen, M. Mirmehdi, A. Paiment, L. Tao,</span>
0048 <span class="comment">%   T. burghard. Robust Real-time RGB-D Tracking with Depth Scaling</span>
0049 <span class="comment">%   Kernelised Correlation Filters and Occlusion Handling, BMVC 2015</span>
0050 <span class="comment">%</span>
0051 <span class="comment">%</span>
0052 <span class="comment">%  University of Bristol</span>
0053 <span class="comment">%  Massimo Camplani and Sion Hannuna</span>
0054 <span class="comment">%</span>
0055 <span class="comment">%  massimo.camplani@bristol.ac.uk</span>
0056 <span class="comment">%  hannuna@compsci.bristol.ac.uk</span>
0057 
0058 im=frameCurr.gray;
0059 depth=frameCurr.depth;
0060 noData=frameCurr.depthNoData;
0061 depth16Bit=frameCurr.depth16Bit;
0062 
0063 <span class="comment">%hard coded threshold for DS-KCF algorithm see [1] for more details</span>
0064 confInterval1=0.4;
0065 confInterval2=0.15;
0066 confValue3=0.14;
0067 
0068 currentScale=scaleDSKCF_struct.i;
0069 
0070 <span class="comment">%clean target struct.....</span>
0071 trackerDSKCF_struct=<a href="resetDSKCFtrackerInfo.html" class="code" title="function trackerDSKCF_struct=resetDSKCFtrackerInfo(trackerDSKCF_struct)">resetDSKCFtrackerInfo</a>(trackerDSKCF_struct);
0072 
0073 <span class="comment">%This is not the first frame we can start tracking!!!!!!!!!!</span>
0074 <span class="keyword">if</span>(firstFrame==false)
0075     
0076     <span class="comment">%no occlusion case</span>
0077     <span class="keyword">if</span> ~trackerDSKCF_struct.previousTarget.underOcclusion,
0078         
0079         <span class="comment">%track the object and then check for occlusions</span>
0080         patch = <a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">get_subwindow</a>(im, pos, scaleDSKCF_struct.windows_sizes(currentScale).window_sz);
0081         patch_depth = <a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">get_subwindow</a>(depth, pos, scaleDSKCF_struct.windows_sizes(currentScale).window_sz);
0082         
0083         <span class="comment">%calculate response of the DS-KCF tracker</span>
0084         [response, maxResponse,pos]=<a href="maxResponseDepthWeightDSKCF.html" class="code" title="function [ response, maxResponse, maxPositionImagePlane] = maxResponseDepthWeightDSKCF( patch,patch_depth,depth16Bit, features,kernel,pos,cell_size, cos_window,model_xf,model_alphaf,model_xDf,model_alphaDf,meanDepthObj,stdDepthObj)">maxResponseDepthWeightDSKCF</a>(<span class="keyword">...</span>
0085             patch,patch_depth,depth16Bit, DSKCFparameters.features,DSKCFparameters.kernel,<span class="keyword">...</span>
0086             pos,DSKCFparameters.cell_size, scaleDSKCF_struct.cos_windows(currentScale).cos_window,<span class="keyword">...</span>
0087             trackerDSKCF_struct.model_xf,trackerDSKCF_struct.model_alphaf,<span class="keyword">...</span>
0088             trackerDSKCF_struct.model_xDf,trackerDSKCF_struct.model_alphaDf,<span class="keyword">...</span>
0089             trackerDSKCF_struct.previousTarget.meanDepthObj,<span class="keyword">...</span>
0090             trackerDSKCF_struct.previousTarget.stdDepthObj);
0091         
0092         <span class="comment">%update tracker struct, new position etc</span>
0093         trackerDSKCF_struct.currentTarget.posX=pos(2);
0094         trackerDSKCF_struct.currentTarget.posY=pos(1);
0095         
0096         trackerDSKCF_struct.currentTarget.bb=<a href="fromCentralPointToBB.html" class="code" title="function bb=fromCentralPointToBB(centerX,centerY,width,height,maxX,maxY)">fromCentralPointToBB</a><span class="keyword">...</span>
0097             (trackerDSKCF_struct.currentTarget.posX,trackerDSKCF_struct.currentTarget.posY,<span class="keyword">...</span>
0098             trackerDSKCF_struct.currentTarget.w,trackerDSKCF_struct.currentTarget.h,<span class="keyword">...</span>
0099             size(im,2),size(im,1));
0100         
0101         trackerDSKCF_struct.currentTarget.conf=max(response(:));<span class="comment">%use this one, discard the weight...</span>
0102         
0103         <span class="comment">%segment the depth data inside the tracked region</span>
0104         [p, trackerDSKCF_struct.currentTarget.meanDepthObj,<span class="keyword">...</span>
0105             trackerDSKCF_struct.currentTarget.stdDepthObj,estimatedDepth,<span class="keyword">...</span>
0106             estimatedSTD,minIndexReduced,trackerDSKCF_struct.currentTarget.LabelRegions,<span class="keyword">...</span>
0107             trackerDSKCF_struct.currentTarget.Centers,trackerDSKCF_struct.currentTarget.regionIndex,<span class="keyword">...</span>
0108             trackerDSKCF_struct.currentTarget.LUT] = <a href="../../DS-KCFcode/functionsOcclusions/checkOcclusionsDSKCF_noiseModel.html" class="code" title="function [p, depthCurr,stdNew,depthEstimated,stEstimated,minIndexReduced,LabelReg,Centers,regionIndex,LUTCC]= checkOcclusionsDSKCF_noiseModel(depthMapCurr,noDataCurrent,trackerDSKCF_struct, bb)">checkOcclusionsDSKCF_noiseModel</a>(<span class="keyword">...</span>
0109             depth16Bit,noData,trackerDSKCF_struct, trackerDSKCF_struct.currentTarget.bb);
0110         
0111         <span class="comment">%occlusion condition</span>
0112         trackerDSKCF_struct.currentTarget.underOcclusion = abs(p)&gt;0.35 &amp;&amp; trackerDSKCF_struct.currentTarget.conf&lt;confInterval1;
0113         
0114         <span class="keyword">if</span> ~trackerDSKCF_struct.currentTarget.underOcclusion
0115             <span class="comment">%eventually correct the frameCurr.targetDepthFast</span>
0116             <span class="keyword">if</span>(trackerDSKCF_struct.currentTarget.meanDepthObj~=estimatedDepth &amp;&amp; minIndexReduced==1)
0117                 trackerDSKCF_struct.currentTarget.meanDepthObj=estimatedDepth;
0118                 trackerDSKCF_struct.currentTarget.stdDepthObj=estimatedSTD;
0119             <span class="keyword">end</span>
0120         <span class="keyword">end</span>
0121         
0122         <span class="comment">%IF UNDER OCCLUSION START TO SEGMENT OCCLUDER AND OCCLUDED</span>
0123         <span class="comment">%OBJECTS</span>
0124         <span class="keyword">if</span> trackerDSKCF_struct.currentTarget.underOcclusion,
0125             <span class="comment">% initialize occlusion</span>
0126             [tmpOccBB] = <a href="../../DS-KCFcode/functionsOcclusions/occludingObjectSegDSKCF.html" class="code" title="function [occBB] = occludingObjectSegDSKCF(depthIm,trackerDSKCF_struct)">occludingObjectSegDSKCF</a>(depth16Bit,trackerDSKCF_struct);
0127             
0128             <span class="keyword">if</span> (isempty(tmpOccBB) | isnan(tmpOccBB) )
0129                 trackerDSKCF_struct.currentTarget.underOcclusion = 0;
0130             <span class="keyword">else</span>
0131                 <span class="keyword">if</span> trackerDSKCF_struct.currentTarget.conf &lt;0.15,
0132                     trackerDSKCF_struct.currentTarget.bb = [];
0133                 <span class="keyword">end</span>
0134                 trackerDSKCF_struct.currentTarget.occBB = tmpOccBB;
0135             <span class="keyword">end</span>
0136             
0137             <span class="comment">%occlusion detected......is time to fill the struct</span>
0138             <span class="comment">%for the occluder we not use any change of scale or other</span>
0139             <span class="comment">%occlusion detector!!!! so now you have to re-init it,</span>
0140             <span class="comment">%according to the new patch size etc etc</span>
0141             
0142             <span class="keyword">if</span> (isempty(tmpOccBB)==false)
0143                 <span class="comment">%assign the occluding bb to the occluder data struct</span>
0144                 trackerDSKCF_structOccluder.previousTarget.bb=<span class="keyword">...</span>
0145                     tmpOccBB;
0146                 
0147                 [trackerDSKCF_structOccluder.previousTarget.posX,<span class="keyword">...</span>
0148                     trackerDSKCF_structOccluder.previousTarget.posY<span class="keyword">...</span>
0149                     trackerDSKCF_structOccluder.previousTarget.w,<span class="keyword">...</span>
0150                     trackerDSKCF_structOccluder.previousTarget.h]<span class="keyword">...</span>
0151                     =<a href="fromBBtoCentralPoint.html" class="code" title="function [centerX,centerY,width,height]=fromBBtoCentralPoint(bb)">fromBBtoCentralPoint</a>(tmpOccBB);
0152                 
0153                 trackerDSKCF_structOccluder.target_sz=<span class="keyword">...</span>
0154                     [trackerDSKCF_structOccluder.previousTarget.h, <span class="keyword">...</span>
0155                     trackerDSKCF_structOccluder.previousTarget.w];
0156                 
0157                 trackerDSKCF_structOccluder.window_sz = floor(<span class="keyword">...</span>
0158                     trackerDSKCF_structOccluder.target_sz *<span class="keyword">...</span>
0159                     (1 + DSKCFparameters_Occluder.padding));
0160                 
0161                 trackerDSKCF_structOccluder.output_sigma = sqrt(prod(<span class="keyword">...</span>
0162                     trackerDSKCF_structOccluder.target_sz)) * <span class="keyword">...</span>
0163                     DSKCFparameters_Occluder.output_sigma_factor / <span class="keyword">...</span>
0164                     DSKCFparameters_Occluder.cell_size;
0165                 
0166                 trackerDSKCF_structOccluder.yf = fft2(<a href="gaussian_shaped_labels.html" class="code" title="function labels = gaussian_shaped_labels(sigma, sz)">gaussian_shaped_labels</a>(<span class="keyword">...</span>
0167                     trackerDSKCF_structOccluder.output_sigma, floor(<span class="keyword">...</span>
0168                     trackerDSKCF_structOccluder.window_sz / DSKCFparameters_Occluder.cell_size)));
0169                 
0170                 <span class="comment">%store pre-computed cosine window</span>
0171                 trackerDSKCF_structOccluder.cos_window = hann(size(<span class="keyword">...</span>
0172                     trackerDSKCF_structOccluder.yf,1)) * hann(size(<span class="keyword">...</span>
0173                     trackerDSKCF_structOccluder.yf,2))';
0174                 
0175                 [trackerDSKCF_structOccluder]=<a href="singleFrameDSKCF_occluder.html" class="code" title="function [trackerDSKCF_structOccluder,newPos]=singleFrameDSKCF_occluder(firstFrame,im,depth,trackerDSKCF_structOccluder,DSKCFparameters)">singleFrameDSKCF_occluder</a>(1,im,<span class="keyword">...</span>
0176                     depth,trackerDSKCF_structOccluder,DSKCFparameters_Occluder);
0177                 
0178                 <span class="comment">%update target size in the current object tracker</span>
0179                 trackerDSKCF_structOccluder.currentTarget=<span class="keyword">...</span>
0180                     trackerDSKCF_structOccluder.previousTarget;
0181             <span class="keyword">end</span>
0182         <span class="keyword">end</span>
0183         
0184     <span class="keyword">else</span>
0185         <span class="comment">%PREVIOUS FRAME UNDER OCCLUSION....</span>
0186         
0187         <span class="comment">%track the occluded object!!!</span>
0188         [trackerDSKCF_structOccluder,occludedPos]=<a href="singleFrameDSKCF_occluder.html" class="code" title="function [trackerDSKCF_structOccluder,newPos]=singleFrameDSKCF_occluder(firstFrame,im,depth,trackerDSKCF_structOccluder,DSKCFparameters)">singleFrameDSKCF_occluder</a>(0,im,<span class="keyword">...</span>
0189             depth,trackerDSKCF_structOccluder,DSKCFparameters_Occluder);
0190         
0191         <span class="comment">%update occluder previous position for tracking...</span>
0192         trackerDSKCF_structOccluder.previousTarget.posX=<span class="keyword">...</span>
0193             trackerDSKCF_structOccluder.currentTarget.posX;
0194         trackerDSKCF_structOccluder.previousTarget.posY=<span class="keyword">...</span>
0195             trackerDSKCF_structOccluder.currentTarget.posY;
0196         
0197         
0198         <span class="keyword">if</span> isempty(trackerDSKCF_structOccluder.currentTarget.bb),
0199             trackerDSKCF_structOccluder.currentTarget.bb = <span class="keyword">...</span>
0200                 trackerDSKCF_structOccluder.previousTarget.bb;
0201         <span class="keyword">end</span>
0202         <span class="comment">%then update the previous</span>
0203         trackerDSKCF_structOccluder.previousTarget.bb=<span class="keyword">...</span>
0204             trackerDSKCF_structOccluder.currentTarget.bb;
0205         
0206         <span class="comment">%update occluder bb in the main target</span>
0207         trackerDSKCF_struct.currentTarget.occBB=trackerDSKCF_structOccluder.currentTarget.bb;
0208         
0209         
0210         <span class="comment">%enlarge searching reagion...</span>
0211         <span class="keyword">if</span>(isempty(trackerDSKCF_struct.previousTarget.bb)==false)
0212             extremaBB=[min([trackerDSKCF_struct.currentTarget.occBB(1),<span class="keyword">...</span>
0213                 trackerDSKCF_struct.previousTarget.occBB(1),<span class="keyword">...</span>
0214                 trackerDSKCF_struct.previousTarget.bb(1)]),<span class="keyword">...</span>
0215                 min([trackerDSKCF_struct.currentTarget.occBB(2),<span class="keyword">...</span>
0216                 trackerDSKCF_struct.previousTarget.occBB(2),<span class="keyword">...</span>
0217                 trackerDSKCF_struct.previousTarget.bb(2)]),<span class="keyword">...</span>
0218                 max([trackerDSKCF_struct.currentTarget.occBB(3),<span class="keyword">...</span>
0219                 trackerDSKCF_struct.previousTarget.occBB(3),<span class="keyword">...</span>
0220                 trackerDSKCF_struct.previousTarget.bb(3)]),<span class="keyword">...</span>
0221                 max([trackerDSKCF_struct.currentTarget.occBB(4),<span class="keyword">...</span>
0222                 trackerDSKCF_struct.previousTarget.occBB(4),<span class="keyword">...</span>
0223                 trackerDSKCF_struct.previousTarget.bb(4)])];
0224             
0225             extremaBB=[max(extremaBB(1),1),max(extremaBB(2),1),<span class="keyword">...</span>
0226                 min(extremaBB(3),size(im,2)),min(extremaBB(4),size(im,1))];
0227         <span class="keyword">else</span>
0228             extremaBB=[min(trackerDSKCF_struct.currentTarget.occBB(1),<span class="keyword">...</span>
0229                 trackerDSKCF_struct.previousTarget.occBB(1)),<span class="keyword">...</span>
0230                 min(trackerDSKCF_struct.currentTarget.occBB(2),<span class="keyword">...</span>
0231                 trackerDSKCF_struct.previousTarget.occBB(2)),<span class="keyword">...</span>
0232                 max(trackerDSKCF_struct.currentTarget.occBB(3),<span class="keyword">...</span>
0233                 trackerDSKCF_struct.previousTarget.occBB(3)),<span class="keyword">...</span>
0234                 max(trackerDSKCF_struct.currentTarget.occBB(4),<span class="keyword">...</span>
0235                 trackerDSKCF_struct.previousTarget.occBB(4))];
0236             extremaBB=[max(extremaBB(1),1),max(extremaBB(2),1),<span class="keyword">...</span>
0237                 min(extremaBB(3),size(im,2)),min(extremaBB(4),size(im,1))];
0238             
0239         <span class="keyword">end</span>
0240         
0241         <span class="comment">%bbIn=framePrev.occBB;</span>
0242         bbIn=extremaBB;
0243         bbIn=<a href="../../DS-KCFcode/functionsOcclusions/enlargeBB.html" class="code" title="function bb = enlargeBB(smallBB,a,size)">enlargeBB</a>(bbIn ,0.05,size(noData));
0244         
0245         <span class="comment">%extract the target roi, from the depth and the nodata mask</span>
0246         front_depth=<a href="roiFromBB.html" class="code" title="function imgOUT=roiFromBB(imgIN,bbIn)">roiFromBB</a>(depth16Bit,bbIn);
0247         depthNoData=<a href="roiFromBB.html" class="code" title="function imgOUT=roiFromBB(imgIN,bbIn)">roiFromBB</a>(noData,bbIn);
0248         
0249         <span class="comment">%in case of bounding box with no depth data....</span>
0250         <span class="keyword">if</span>(sum(sum(depthNoData)')==size(front_depth,1)*size(front_depth,2))
0251             trackerDSKCF_struct.currentTarget.LabelRegions=depthNoData&gt;10000000;
0252             trackerDSKCF_struct.currentTarget.Centers=1000000;
0253             trackerDSKCF_struct.currentTarget.LUT=[];
0254             <span class="comment">%eventually segment the current occluding area</span>
0255         <span class="keyword">else</span>
0256             <span class="comment">%note, we are saving the segmentation of the occluding region,</span>
0257             <span class="comment">%in the target struct rather thant the other one!!!!!</span>
0258             [trackerDSKCF_struct.currentTarget.LabelRegions,<span class="keyword">...</span>
0259                 trackerDSKCF_struct.currentTarget.Centers,<span class="keyword">...</span>
0260                 trackerDSKCF_struct.currentTarget.LUT,~,~,~]=<span class="keyword">...</span>
0261                 <a href="../../DS-KCFcode/functionsDepthSeg/fastDepthSegmentationDSKCF_noiseModel.html" class="code" title="function [L,Cnew,LUT,H,I,LUTCC]=fastDepthSegmentationDSKCF_noiseModel(im,c,nanMatrix,minimumError,Cinit, findPeak,targetDepth,targetSTD,noiseModelVector)">fastDepthSegmentationDSKCF_noiseModel</a>(front_depth,3,depthNoData,<span class="keyword">...</span>
0262                 1,[-1 -1 -1],1,trackerDSKCF_struct.currentTarget.meanDepthObj,<span class="keyword">...</span>
0263                 trackerDSKCF_struct.currentTarget.stdDepthObj,[2.3,0.00055,0.00000235]);
0264             
0265         <span class="keyword">end</span>
0266         
0267         <span class="comment">%filter out very small regions</span>
0268         tmpProp=regionprops(trackerDSKCF_struct.currentTarget.LabelRegions,<span class="string">'Area'</span>);
0269         areaList= cat(1, tmpProp.Area);
0270         minArea=scaleDSKCF_struct.target_sz(currentScale).target_sz(2)*<span class="keyword">...</span>
0271             scaleDSKCF_struct.target_sz(currentScale).target_sz(1)*0.05;
0272         
0273         areaSmallIndex=areaList&lt;minArea;
0274         
0275         <span class="comment">%exclude the small area index setting a super high depth!!!!!!!!</span>
0276         <span class="comment">%it will never be used</span>
0277         trackerDSKCF_struct.currentTarget.Centers(:,areaSmallIndex)= 1000000;
0278         
0279         [dummyVal,trackerDSKCF_struct.currentTarget.regionIndex]=<span class="keyword">...</span>
0280             min(trackerDSKCF_struct.currentTarget.Centers);
0281         
0282         <span class="comment">%very bad segmentation, full of small regions. Set up a flag....</span>
0283         <span class="keyword">if</span>(dummyVal==1000000)
0284             trackerDSKCF_struct.currentTarget.regionIndex=6666666;
0285         <span class="keyword">end</span>
0286         
0287         <span class="comment">%search for target's candidates in the search region.....</span>
0288         [tarBB, segmentedOccBB, targetList, targetIndex,occmask] =  <span class="keyword">...</span>
0289             <a href="../../DS-KCFcode/functionsOcclusions/targetSearchDSKCF.html" class="code" title="function [tarBB, occBB, tarlist, id,occmask] = targetSearchDSKCF(bb,trackerDSKCF_struct, DSKCFparameters,im,depth,depth16Bit,scaleDSKCF_struct,confValue)">targetSearchDSKCF</a>(bbIn, trackerDSKCF_struct, DSKCFparameters,<span class="keyword">...</span>
0290             im,depth,depth16Bit,scaleDSKCF_struct,confValue3);
0291         
0292         <span class="keyword">if</span>(isempty(segmentedOccBB)==false)
0293             extremaBB=[min([trackerDSKCF_struct.currentTarget.occBB(1),<span class="keyword">...</span>
0294                 segmentedOccBB(1)]),min([trackerDSKCF_struct.currentTarget.occBB(2),<span class="keyword">...</span>
0295                 segmentedOccBB(2)]),max([trackerDSKCF_struct.currentTarget.occBB(3),<span class="keyword">...</span>
0296                 segmentedOccBB(3)]),max([trackerDSKCF_struct.currentTarget.occBB(4),<span class="keyword">...</span>
0297                 segmentedOccBB(4)])];
0298             
0299             trackerDSKCF_struct.currentTarget.occBB=[max(extremaBB(1),1),<span class="keyword">...</span>
0300                 max(extremaBB(2),1),min(extremaBB(3),size(im,2)),<span class="keyword">...</span>
0301                 min(extremaBB(4),size(im,1))]';
0302         <span class="keyword">end</span>
0303         
0304         <span class="keyword">if</span>(isempty(trackerDSKCF_struct.currentTarget.occBB))
0305             trackerDSKCF_struct.currentTarget.occBB=trackerDSKCF_struct.previousTarget.occBB;
0306         <span class="keyword">end</span>
0307         
0308         <span class="comment">%THESE CANDIDATES....CAME FROM THE SEGMENTATIONS....YOU NEED TO</span>
0309         <span class="comment">%RESIZE THEM WITH THE REQUIRED WINDOW...</span>
0310         centerNew=[];
0311         <span class="keyword">if</span>(~isempty(tarBB))
0312             
0313             widthtarBB=tarBB(3)-tarBB(1);
0314             heighttarBB=tarBB(4)-tarBB(2);
0315             centerNew=floor([tarBB(1)+widthtarBB/2 tarBB(2)+heighttarBB/2]);
0316             
0317             tarBB(1:2)=centerNew - scaleDSKCF_struct.target_sz(scaleDSKCF_struct.i).target_sz([2 1])/2;
0318             tarBB(3:4)=centerNew + scaleDSKCF_struct.target_sz(scaleDSKCF_struct.i).target_sz([2 1])/2;
0319             
0320         <span class="keyword">end</span>
0321         
0322         
0323         <span class="comment">% calculate detection and segmentation consistency</span>
0324         trackerDSKCF_struct.currentTarget.bb = tarBB;
0325         trackerDSKCF_struct.currentTarget.conf = targetList.Conf_class(targetIndex);
0326         
0327         
0328         
0329         <span class="comment">%%Kill some strange respons on the occluding mask</span>
0330         occmask = imfill(occmask,<span class="string">'holes'</span>);
0331         tmpMask=repmat(0,size(depth));
0332         tmpMask(bbIn(2):bbIn(4),bbIn(1):bbIn(3))=occmask;
0333         
0334         <span class="keyword">if</span>(isempty(centerNew)==false)
0335             
0336             <span class="comment">%re-assign new position to the target, even if the target is</span>
0337             <span class="comment">%not valid, you need this just for visualization or checking</span>
0338             <span class="comment">%the algorithm....</span>
0339             [trackerDSKCF_struct.currentTarget.posX,<span class="keyword">...</span>
0340                 trackerDSKCF_struct.currentTarget.posY<span class="keyword">...</span>
0341                 trackerDSKCF_struct.currentTarget.w,<span class="keyword">...</span>
0342                 trackerDSKCF_struct.currentTarget.h]<span class="keyword">...</span>
0343                 =<a href="fromBBtoCentralPoint.html" class="code" title="function [centerX,centerY,width,height]=fromBBtoCentralPoint(bb)">fromBBtoCentralPoint</a>(trackerDSKCF_struct.currentTarget.bb);
0344             <span class="comment">%update tracker struct, new position etc</span>
0345             pos(2)=trackerDSKCF_struct.currentTarget.posX;
0346             pos(1)=trackerDSKCF_struct.currentTarget.posY;
0347             
0348             <span class="keyword">if</span>(tmpMask(centerNew(2),centerNew(1))==1)
0349                 trackerDSKCF_struct.currentTarget.conf=0;
0350             <span class="keyword">end</span>
0351         <span class="keyword">end</span>
0352         
0353         <span class="comment">% check recovery</span>
0354         trackerDSKCF_struct.currentTarget.underOcclusion =1;
0355         <span class="keyword">if</span> ~isempty(trackerDSKCF_struct.currentTarget.bb)
0356             [p, TMPtargetDepth,TMPtargetStd,TMPLabelRegions,TMPCenters,<span class="keyword">...</span>
0357                 TMPregionIndex,TMPLUT,secondPlaneDepth,secondPlaneDepthStd] <span class="keyword">...</span>
0358                 = <a href="../../DS-KCFcode/functionsOcclusions/checkOcclusionsDSKCF_secondPlane.html" class="code" title="function [p, depthCurr,stdNew,LabelReg,Centers,regionIndex,LUTCCsecondPlaneDepth,secondPlaneDepthStd] = checkOcclusionsDSKCF_secondPlane(depthMapCurr,noDataCurrent,trackerDSKCF_struct, bb)">checkOcclusionsDSKCF_secondPlane</a>(depth16Bit,<span class="keyword">...</span>
0359                 noData,trackerDSKCF_struct, trackerDSKCF_struct.currentTarget.bb);
0360             
0361             <span class="keyword">if</span> trackerDSKCF_struct.currentTarget.conf &gt; confInterval1/2 &amp;&amp; p&lt;0.35,
0362                 trackerDSKCF_struct.currentTarget.underOcclusion =0;
0363             <span class="keyword">end</span>
0364             
0365             <span class="keyword">if</span> ~trackerDSKCF_struct.currentTarget.underOcclusion,
0366                 tmpWeight = max(0,min(1,trackerDSKCF_struct.currentTarget.conf));
0367                 
0368             <span class="keyword">else</span>
0369                 tmpWeight = 0;
0370             <span class="keyword">end</span>
0371             
0372             
0373             <span class="keyword">if</span>(isempty(secondPlaneDepth)==false)
0374                 TMPtargetDepth=secondPlaneDepth;
0375                 TMPtargetStd=secondPlaneDepthStd;
0376                 tmpWeight=tmpWeight*2.5;
0377                 <span class="keyword">if</span>(tmpWeight&gt;1)
0378                     tmpWeight=0.95;
0379                 <span class="keyword">end</span>
0380                 
0381             <span class="keyword">end</span>
0382             
0383             trackerDSKCF_struct.currentTarget.meanDepthObj = tmpWeight * TMPtargetDepth + (1-tmpWeight) * trackerDSKCF_struct.currentTarget.meanDepthObj;
0384             trackerDSKCF_struct.currentTarget.stdDepthObj = tmpWeight * TMPtargetStd + (1-tmpWeight) * trackerDSKCF_struct.currentTarget.stdDepthObj;
0385             
0386         <span class="keyword">else</span>
0387             trackerDSKCF_struct.currentTarget.meanDepthObj = trackerDSKCF_struct.previousTarget.meanDepthObj;
0388             trackerDSKCF_struct.currentTarget.stdDepthObj = trackerDSKCF_struct.previousTarget.stdDepthObj;
0389         <span class="keyword">end</span>
0390     <span class="keyword">end</span>
0391     
0392     
0393 <span class="keyword">end</span>
0394 
0395 <span class="comment">%IF UNDER OCCLUSION DON'T UPDATE.....</span>
0396 <span class="keyword">if</span>(trackerDSKCF_struct.previousTarget.underOcclusion==false &amp;&amp; trackerDSKCF_struct.currentTarget.underOcclusion==false)
0397     
0398     <span class="comment">%check for scale change</span>
0399     <span class="keyword">if</span>(firstFrame==false)
0400         scaleDSKCF_struct=<a href="../../DS-KCFcode/functionsScaleChange/getScaleFactorStruct.html" class="code" title="function scaleDSKCF_struct=getScaleFactorStruct(estimatedDepthMode,scaleDSKCF_struct)">getScaleFactorStruct</a>(trackerDSKCF_struct.currentTarget.meanDepthObj,scaleDSKCF_struct);
0401     <span class="keyword">end</span>
0402     
0403     <span class="comment">%obtain a subwindow for training at newly estimated target position</span>
0404     patch = <a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">get_subwindow</a>(im, pos, scaleDSKCF_struct.windows_sizes(scaleDSKCF_struct.i).window_sz);
0405     patch_depth = <a href="get_subwindow.html" class="code" title="function out = get_subwindow(im, pos, sz)">get_subwindow</a>(depth, pos, scaleDSKCF_struct.windows_sizes(scaleDSKCF_struct.i).window_sz);
0406     
0407     <span class="comment">%update the model</span>
0408     [trackerDSKCF_struct.model_alphaf, trackerDSKCF_struct.model_alphaDf, <span class="keyword">...</span>
0409         trackerDSKCF_struct.model_xf, trackerDSKCF_struct.model_xDf]=<span class="keyword">...</span>
0410         <a href="modelUpdateDSKCF.html" class="code" title="function [model_alphaf, model_alphaDf, model_xf, model_xDf]=modelUpdateDSKCF(firstFrame,patch,patch_depth,features,cell_size,cos_window,kernel,yf,lambda,model_alphaf, model_alphaDf, model_xf, model_xDf,scaleUpdate,interp_factor)">modelUpdateDSKCF</a>(firstFrame,patch,patch_depth,DSKCFparameters.features,<span class="keyword">...</span>
0411         DSKCFparameters.cell_size,scaleDSKCF_struct.cos_windows(scaleDSKCF_struct.i).cos_window,<span class="keyword">...</span>
0412         DSKCFparameters.kernel,scaleDSKCF_struct.yfs(scaleDSKCF_struct.i).yf,<span class="keyword">...</span>
0413         DSKCFparameters.lambda,trackerDSKCF_struct.model_alphaf, <span class="keyword">...</span>
0414         trackerDSKCF_struct.model_alphaDf,trackerDSKCF_struct.model_xf,<span class="keyword">...</span>
0415         trackerDSKCF_struct.model_xDf,scaleDSKCF_struct.updated,DSKCFparameters.interp_factor);
0416     
0417     <span class="comment">%if scale changed you must change tracker size information</span>
0418     <span class="keyword">if</span>(scaleDSKCF_struct.updated)
0419         <span class="comment">%[newH,newW]= ;</span>
0420         trackerDSKCF_struct.currentTarget.h=scaleDSKCF_struct.target_sz(scaleDSKCF_struct.i).target_sz(1);
0421         trackerDSKCF_struct.currentTarget.w=scaleDSKCF_struct.target_sz(scaleDSKCF_struct.i).target_sz(2);
0422     <span class="keyword">end</span>
0423 <span class="keyword">else</span>
0424     <span class="comment">%%THERE IS AN OCCLUSION.....NOW WHAT TO DO.....? DON'T UPDATE MODEL....</span>
0425     <span class="comment">%UPDATE ONLY POSITION!!!!!</span>
0426     
0427     <span class="comment">% TO BE CHECKEDD!!!!!</span>
0428     <span class="keyword">if</span>(isempty(trackerDSKCF_struct.currentTarget.bb))
0429         pos=[];
0430     <span class="keyword">else</span>
0431         pos=[trackerDSKCF_struct.currentTarget.posY,trackerDSKCF_struct.currentTarget.posX];
0432     <span class="keyword">end</span>
0433 <span class="keyword">end</span>
0434 
0435 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Mon 06-Jul-2015 12:12:12 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>